;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;   Modular Simulator Controller System - Car Information Retrieval       ;;;
;;;                                                                         ;;;
;;;   Author:     Oliver Juwig (TheBigO)                                    ;;;
;;;   License:    (2021) Creative Commons - BY-NC-SA                        ;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

carLaps(?car, COMPLETE, ?laps) <= Get(Car, ?car, Lap, ?laps)
carLaps(?car, INCOMPLETE, ?laps) <= Get(Car, ?car, Lap, ?completedLaps), carLapTime(?car, ?lapTime), carTimeIntoLap(?car, ?partialTime),				\
									?partialLap = ?partialTime / ?lapTime, ?laps = ?completedLaps + ?partialLap
									
carPosition(?car, ?position) <= Get(Car, ?car, Position, ?position)

carLapTime(?car, ?lapTime) <= Get(Car, ?car, Time, ?lapTime)

carTimeIntoLap(?car, ?time) <= Get(Car, ?car, Time.Running, ?time)

carDriverForname(?car, ?forname) <= Get(Car, ?car, Driver.Forname, ?forname)
carDriverSurname(?car, ?surname) <= Get(Car, ?car, Driver.Surname, ?surname)
carDriverNickname(?car, ?nickname) <= Get(Car, ?car, Driver.Nickname, ?nickname)

carModel(?car, ?model) <= Get(Car, ?car, Car, ?model)

